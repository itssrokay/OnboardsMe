import{a as B}from"./chunk-5WTPKT27.js";import{a as j}from"./chunk-57NZOXBA.js";import{a as R}from"./chunk-CKQXZY5F.js";import{$ as O,A as l,D as F,H as f,J as V,K as E,L as z,M,O as C,Q as I,R as k,S as L,T as n,U as i,V as d,W as P,X as m,Y as s,Z as a,_ as u,a as w,b as y,fa as g,ha as H,n as h,p as v,q as x,qa as A,r as p,s as _,w as S,x as T}from"./chunk-PYF3QQPI.js";var D=(r,t)=>t.id;function N(r,t){if(r&1&&(n(0,"p",4),a(1,"Showing courses for: "),n(2,"strong"),a(3),i()()),r&2){let e=s();l(3),u(e.userRole())}}function Q(r,t){r&1&&(n(0,"div",19),p(),n(1,"svg",28),d(2,"path",37)(3,"polyline",38),i(),a(4," Enrolled "),i())}function q(r,t){if(r&1&&(n(0,"div",20)(1,"div",39),d(2,"div",40),i(),n(3,"span",41),a(4),i()()),r&2){let e=s().$implicit;l(2),z("width",e.progress,"%"),l(2),O("",e.progress,"% complete")}}function Y(r,t){if(r&1&&(n(0,"span",23),a(1),i()),r&2){let e=t.$implicit;l(),u(e)}}function U(r,t){r&1&&a(0," Continue Learning ")}function J(r,t){r&1&&a(0," Start Learning ")}function K(r,t){if(r&1){let e=P();n(0,"button",42),m("click",function(c){v(e);let b=s().$implicit,$=s();return x($.continueLearning(b.id,c))}),f(1,U,1,0)(2,J,1,0),i()}if(r&2){let e=s().$implicit;l(),C(e.progress>0?1:2)}}function W(r,t){r&1&&(n(0,"button",36),a(1," View Course "),i())}function X(r,t){if(r&1){let e=P();n(0,"div",16),m("click",function(){let c=v(e).$implicit,b=s();return x(b.viewCourse(c.id))}),n(1,"div",17),d(2,"img",18),f(3,Q,5,0,"div",19)(4,q,5,3,"div",20),i(),n(5,"div",21)(6,"div",22),k(7,Y,2,1,"span",23,I),i(),n(9,"h3",24),a(10),i(),n(11,"p",25),a(12),i(),n(13,"div",26)(14,"span",27),p(),n(15,"svg",28),d(16,"circle",29)(17,"polyline",30),i(),a(18),i(),_(),n(19,"span",27),p(),n(20,"svg",28),d(21,"path",31)(22,"path",32),i(),a(23),i(),_(),n(24,"span",33),a(25),i()(),n(26,"div",34),f(27,K,3,1,"button",35)(28,W,2,0,"button",36),i()()()}if(r&2){let e=t.$implicit,o=s();M("enrolled",e.isEnrolled),l(2),E("src",e.thumbnail,T)("alt",e.title),l(),C(e.isEnrolled?3:-1),l(),C(e.isEnrolled&&e.progress>0?4:-1),l(3),L(e.tags.slice(0,3)),l(3),u(e.title),l(2),u(e.description),l(6),O(" ",e.duration," "),l(5),O(" ",o.getTotalLessons(e)," lessons "),l(),V("data-difficulty",e.difficulty),l(),O(" ",e.difficulty," "),l(2),C(e.isEnrolled?27:28)}}function Z(r,t){if(r&1){let e=P();p(),n(0,"svg",43),d(1,"circle",7)(2,"path",8),i(),_(),n(3,"h3"),a(4,"No courses found"),i(),n(5,"p"),a(6,"Try adjusting your search or filter criteria"),i(),n(7,"button",44),m("click",function(){v(e);let c=s(2);return c.searchQuery.set(""),x(c.setFilter("all"))}),a(8," Clear filters "),i()}}function ee(r,t){if(r&1){let e=P();p(),n(0,"svg",43),d(1,"path",31)(2,"path",32),i(),_(),n(3,"h3"),a(4,"No enrolled courses yet"),i(),n(5,"p"),a(6,"Browse available courses and start learning today!"),i(),n(7,"button",42),m("click",function(){v(e);let c=s(2);return x(c.setFilter("available"))}),a(8," Browse Courses "),i()}}function te(r,t){r&1&&(p(),n(0,"svg",43),d(1,"path",31)(2,"path",32),i(),_(),n(3,"h3"),a(4,"No courses available"),i(),n(5,"p"),a(6,"Check back later for new courses"),i())}function ne(r,t){if(r&1&&(n(0,"div",15),f(1,Z,9,0)(2,ee,9,0)(3,te,7,0),i()),r&2){let e=s();l(),C(e.searchQuery()?1:e.activeFilter()==="enrolled"?2:3)}}var G=class r{router=h(A);courseService=h(j);progressService=h(B);storageService=h(R);activeFilter=S("all");searchQuery=S("");userRole=g(()=>this.storageService.enrollmentData()?.role);userName=g(()=>this.storageService.enrollmentData()?.name);allCourses=g(()=>{let t=this.userRole(),e=this.courseService.courses();return t?e.filter(o=>o.roles.includes(t)):e});enrolledCourses=g(()=>{let t=this.userRole();return this.courseService.enrolledCourses().filter(e=>!t||e.roles.includes(t)).map(e=>y(w({},e),{progress:this.progressService.getCourseCompletionPercentage(e.id),isEnrolled:!0}))});availableCourses=g(()=>{let t=this.userRole();return this.courseService.availableCourses().filter(e=>!t||e.roles.includes(t)).map(e=>y(w({},e),{progress:0,isEnrolled:!1}))});filteredCourses=g(()=>{let t=[];switch(this.activeFilter()){case"enrolled":t=this.enrolledCourses();break;case"available":t=this.availableCourses();break;default:t=[...this.enrolledCourses(),...this.availableCourses()]}let e=this.searchQuery().toLowerCase().trim();return e&&(t=t.filter(o=>o.title.toLowerCase().includes(e)||o.description.toLowerCase().includes(e)||o.tags.some(c=>c.toLowerCase().includes(e)))),t});totalEnrolled=g(()=>this.enrolledCourses().length);totalAvailable=g(()=>this.availableCourses().length);setFilter(t){this.activeFilter.set(t)}onSearchChange(t){let e=t.target;this.searchQuery.set(e.value)}viewCourse(t){this.router.navigate(["/courses",t])}continueLearning(t,e){e.stopPropagation();let o=this.progressService.getResumePoint(t);o?this.router.navigate(["/courses",t,"lesson",o.lessonId],{queryParams:{item:o.itemId}}):this.router.navigate(["/courses",t])}getTotalLessons(t){return t.lessons?.length||0}getTotalItems(t){return t.lessons?.reduce((e,o)=>e+(o.learningItems?.length||0),0)||0}getDifficultyClass(t){return t.toLowerCase()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-course-list"]],decls:30,vars:12,consts:[[1,"course-list-container"],[1,"page-header"],[1,"header-content"],[1,"subtitle"],[1,"role-badge"],[1,"search-bar"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search courses...",3,"input","value"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],[1,"count"],[1,"courses-grid"],[1,"course-card",3,"enrolled"],[1,"empty-state"],[1,"course-card",3,"click"],[1,"card-thumbnail"],[3,"src","alt"],[1,"enrolled-badge"],[1,"progress-overlay"],[1,"card-content"],[1,"card-tags"],[1,"tag"],[1,"card-title"],[1,"card-description"],[1,"card-meta"],[1,"meta-item"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],["d","M4 19.5A2.5 2.5 0 0 1 6.5 17H20"],["d","M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"],[1,"meta-item","difficulty"],[1,"card-actions"],[1,"btn","btn-primary"],[1,"btn","btn-secondary"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"btn","btn-primary",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],[1,"btn","btn-secondary",3,"click"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),a(4,"Course Catalog"),i(),n(5,"p",3),a(6,"Explore and learn from our curated courses"),i(),f(7,N,4,1,"p",4),i(),n(8,"div",5),p(),n(9,"svg",6),d(10,"circle",7)(11,"path",8),i(),_(),n(12,"input",9),m("input",function(b){return o.onSearchChange(b)}),i()()(),n(13,"div",10)(14,"button",11),m("click",function(){return o.setFilter("all")}),a(15," All Courses "),n(16,"span",12),a(17),i()(),n(18,"button",11),m("click",function(){return o.setFilter("enrolled")}),a(19," My Courses "),n(20,"span",12),a(21),i()(),n(22,"button",11),m("click",function(){return o.setFilter("available")}),a(23," Available "),n(24,"span",12),a(25),i()()(),n(26,"div",13),k(27,X,29,13,"div",14,D,!1,ne,4,1,"div",15),i()()),e&2&&(l(7),C(o.userRole()?7:-1),l(5),E("value",o.searchQuery()),l(2),M("active",o.activeFilter()==="all"),l(3),u(o.totalEnrolled()+o.totalAvailable()),l(),M("active",o.activeFilter()==="enrolled"),l(3),u(o.totalEnrolled()),l(),M("active",o.activeFilter()==="available"),l(3),u(o.totalAvailable()),l(2),L(o.filteredCourses()))},dependencies:[H],styles:['.course-list-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#64748b;margin:0 0 .5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:20px;font-size:.875rem;margin-top:.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.search-bar[_ngcontent-%COMP%]{position:relative;min-width:300px}.search-bar[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#94a3b8}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 3rem;border:1px solid #e2e8f0;border-radius:12px;font-size:1rem;background:#f8fafc;transition:all .2s ease}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1;background:#fff;box-shadow:0 0 0 3px #6366f11a}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:2rem;padding:.25rem;background:#f1f5f9;border-radius:12px;width:fit-content}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;border:none;background:transparent;border-radius:10px;font-size:.9375rem;font-weight:500;color:#64748b;cursor:pointer;transition:all .2s ease}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{color:#1e293b}.filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:#fff;color:#1e293b;box-shadow:0 1px 3px #0000001a}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:1.5rem;height:1.5rem;padding:0 .5rem;background:#e2e8f0;border-radius:999px;font-size:.75rem;font-weight:600}.filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:1.5rem}.course-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 1px 3px #0000000d;border:1px solid #e2e8f0;cursor:pointer;transition:all .3s ease}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0000001a}.course-card.enrolled[_ngcontent-%COMP%]{border-color:#c7d2fe}.course-card.enrolled[_ngcontent-%COMP%]   .card-thumbnail[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(99,102,241,.1),transparent)}.card-thumbnail[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9;background:#f1f5f9;overflow:hidden}.card-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.course-card[_ngcontent-%COMP%]:hover   .card-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.card-thumbnail[_ngcontent-%COMP%]   .enrolled-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;display:flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#6366f1f2;color:#fff;border-radius:999px;font-size:.75rem;font-weight:600;backdrop-filter:blur(4px);z-index:1}.card-thumbnail[_ngcontent-%COMP%]   .enrolled-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.card-thumbnail[_ngcontent-%COMP%]   .progress-overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:1rem;background:linear-gradient(to top,rgba(0,0,0,.7),transparent);z-index:1}.card-thumbnail[_ngcontent-%COMP%]   .progress-overlay[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px;background:#ffffff4d;border-radius:999px;overflow:hidden;margin-bottom:.5rem}.card-thumbnail[_ngcontent-%COMP%]   .progress-overlay[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#10b981;border-radius:999px;transition:width .3s ease}.card-thumbnail[_ngcontent-%COMP%]   .progress-overlay[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#fff;font-weight:500}.card-content[_ngcontent-%COMP%]{padding:1.25rem}.card-content[_ngcontent-%COMP%]   .card-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.75rem}.card-content[_ngcontent-%COMP%]   .card-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:.25rem .625rem;background:#f1f5f9;color:#64748b;border-radius:999px;font-size:.75rem;font-weight:500}.card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem;line-height:1.4}.card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;line-height:1.6;margin:0 0 1rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.card-content[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1rem}.card-content[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;font-size:.8125rem;color:#64748b}.card-content[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#94a3b8}.card-content[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]   .meta-item.difficulty[_ngcontent-%COMP%]{padding:.25rem .625rem;border-radius:999px;font-weight:500}.card-content[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]   .meta-item.difficulty[data-difficulty=Beginner][_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.card-content[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]   .meta-item.difficulty[data-difficulty=Intermediate][_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.card-content[_ngcontent-%COMP%]   .card-meta[_ngcontent-%COMP%]   .meta-item.difficulty[data-difficulty=Advanced][_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.card-content[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.25rem;border:none;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease;width:100%}.btn.btn-primary[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#4f46e5}.btn.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#1e293b}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0}.empty-state[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#f8fafc;border-radius:16px;border:2px dashed #e2e8f0}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:#94a3b8;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 1.5rem}.empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:auto}@media (max-width: 768px){.course-list-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{flex-direction:column}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:100%;min-width:unset}.filter-tabs[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{white-space:nowrap}.courses-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};export{G as CourseListComponent};
