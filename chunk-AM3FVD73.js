import{a as j}from"./chunk-5WTPKT27.js";import{a as F}from"./chunk-57NZOXBA.js";import"./chunk-CKQXZY5F.js";import{$ as O,A as c,D as U,H as _,J as z,K as P,L as S,M as V,O as g,R as k,S as T,T as i,U as r,V as d,W as b,X as f,Y as a,Z as l,_ as M,fa as w,ha as D,ma as G,n as y,oa as N,p as C,q as u,qa as R,r as m,s as v,w as h,x as E,y as I}from"./chunk-PYF3QQPI.js";var H=(n,t)=>t.id;function Y(n,t){n&1&&(i(0,"div",0),d(1,"div",2),i(2,"p"),l(3,"Loading content..."),r()())}function q(n,t){if(n&1){let e=b();i(0,"div",1),m(),i(1,"svg",3),d(2,"circle",4)(3,"line",5)(4,"line",6),r(),v(),i(5,"h2"),l(6),r(),i(7,"button",7),f("click",function(){C(e);let s=a();return u(s.backToCourse())}),l(8,"Back to Course"),r()()}if(n&2){let e=a();c(6),M(e.error())}}function A(n,t){n&1&&(m(),d(0,"rect",30)(1,"line",31))}function B(n,t){n&1&&(m(),d(0,"rect",30)(1,"line",32))}function W(n,t){n&1&&l(0," Video ")}function J(n,t){n&1&&l(0," Document ")}function K(n,t){n&1&&l(0," Article ")}function Q(n,t){if(n&1&&(i(0,"p",35),l(1),r()),n&2){let e=a();c(),M(e.description)}}function X(n,t){if(n&1&&d(0,"iframe",45),n&2){let e=a(2),o=a(2);P("src",o.getVideoEmbedUrl(e),I)}}function Z(n,t){if(n&1&&(i(0,"video",46),l(1," Your browser does not support the video tag. "),r()),n&2){let e=a(2);P("src",e.videoUrl,E)}}function ee(n,t){if(n&1&&(i(0,"div",47)(1,"span",48),m(),i(2,"svg",3),d(3,"circle",4)(4,"polyline",49),r(),l(5),r()()),n&2){let e=a(2);c(5),O(" Duration: ",e.videoDuration," ")}}function te(n,t){if(n&1&&(i(0,"div",44),_(1,X,1,1,"iframe",45)(2,Z,2,1,"video",46),r(),_(3,ee,6,1,"div",47)),n&2){let e=a(),o=a(2);c(),g(o.isYouTubeVideo(e)||o.isVimeoVideo(e)?1:2),c(2),g(e.videoDuration?3:-1)}}function ne(n,t){if(n&1){let e=b();i(0,"div",37),d(1,"iframe",50),i(2,"div",51)(3,"p"),l(4,"If the PDF doesn't load, you can:"),r(),i(5,"button",52),f("click",function(){C(e);let s=a(),p=a(2);return u(p.openInNewTab(s.pdfUrl||""))}),m(),i(6,"svg",3),d(7,"path",53)(8,"polyline",54)(9,"line",55),r(),l(10," Open PDF in New Tab "),r()()()}if(n&2){let e=a(),o=a(2);c(),P("src",o.getPdfViewerUrl(e.pdfUrl||""),I)}}function ie(n,t){if(n&1){let e=b();i(0,"div",38)(1,"div",56),d(2,"iframe",57),r(),i(3,"div",58)(4,"p",59),m(),i(5,"svg",3),d(6,"circle",4)(7,"line",60)(8,"line",61),r(),l(9," Some websites may not load in the embedded viewer due to security restrictions. "),r(),v(),i(10,"button",7),f("click",function(){C(e);let s=a(),p=a(2);return u(p.openInNewTab(s.url||""))}),m(),i(11,"svg",3),d(12,"path",53)(13,"polyline",54)(14,"line",55),r(),l(15," Open in New Tab "),r()()()}if(n&2){let e=a(),o=a(2);c(2),P("src",o.getExternalUrl(e.url||""),I)}}function oe(n,t){n&1&&(m(),i(0,"svg",3),d(1,"polyline",62),r(),l(2," Completed "))}function re(n,t){n&1&&(m(),i(0,"svg",3),d(1,"circle",4)(2,"polyline",49),r(),l(3," Mark as Complete "))}function se(n,t){if(n&1){let e=b();i(0,"div",33)(1,"div",34),_(2,W,1,0)(3,J,1,0)(4,K,1,0),r(),i(5,"h1"),l(6),r(),_(7,Q,2,1,"p",35),r(),i(8,"div",36),_(9,te,4,2)(10,ne,11,1,"div",37)(11,ie,16,1,"div",38),r(),i(12,"div",39)(13,"div",40)(14,"button",41),f("click",function(){C(e);let s=a(2);return u(s.goToPrevious())}),m(),i(15,"svg",3),d(16,"polyline",12),r(),l(17," Previous "),r(),v(),i(18,"button",41),f("click",function(){C(e);let s=a(2);return u(s.goToNext())}),l(19," Next "),m(),i(20,"svg",3),d(21,"polyline",42),r()()(),v(),i(22,"button",43),f("click",function(){C(e);let s=a(2);return u(s.markAsComplete())}),_(23,oe,3,0)(24,re,4,0),r()()}if(n&2){let e,o,s=t,p=a(2);c(),z("data-type",s.type),c(),g((e=s.type)==="video"?2:e==="pdf"?3:e==="url"?4:-1),c(4),M(s.title),c(),g(s.description?7:-1),c(2),g((o=s.type)==="video"?9:o==="pdf"?10:o==="url"?11:-1),c(5),P("disabled",!p.hasPrevious()),c(4),P("disabled",!p.hasNext()),c(4),V("completed",p.isCurrentItemCompleted()),P("disabled",p.isCurrentItemCompleted()),c(),g(p.isCurrentItemCompleted()?23:24)}}function ae(n,t){n&1&&(m(),i(0,"svg",3),d(1,"polyline",62),r())}function le(n,t){if(n&1&&l(0),n&2){let e=a().$index;O(" ",e+1," ")}}function ce(n,t){if(n&1&&l(0),n&2){let e=a(2).$implicit;O(" ",e.videoDuration," ")}}function de(n,t){n&1&&l(0," Video ")}function me(n,t){if(n&1&&(m(),i(0,"svg",3),d(1,"polygon",68),r(),_(2,ce,1,1)(3,de,1,0)),n&2){let e=a().$implicit;c(2),g(e.videoDuration?2:3)}}function _e(n,t){n&1&&(m(),i(0,"svg",3),d(1,"path",69)(2,"polyline",70),r(),l(3," Document "))}function ge(n,t){n&1&&(m(),i(0,"svg",3),d(1,"path",53)(2,"polyline",54)(3,"line",55),r(),l(4," Article "))}function pe(n,t){if(n&1){let e=b();i(0,"li",63),f("click",function(){let s=C(e).$implicit,p=a(2);return u(p.selectItem(s))}),i(1,"div",64),_(2,ae,2,0,":svg:svg",3)(3,le,1,1),r(),i(4,"div",65)(5,"span",66),l(6),r(),i(7,"span",67),_(8,me,4,1)(9,_e,4,0)(10,ge,5,0),r()()()}if(n&2){let e,o=t.$implicit,s=a(2);V("active",o.id===s.currentItemId())("completed",s.isItemCompleted(o.id)),c(2),g(s.isItemCompleted(o.id)?2:3),c(4),M(o.title),c(2),g((e=o.type)==="video"?8:e==="pdf"?9:e==="url"?10:-1)}}function Ce(n,t){if(n&1){let e=b();i(0,"li",73),f("click",function(){C(e);let s=a().$implicit,p=a(3);return u(p.navigateToLesson(s.id,s.learningItems[0].id))}),i(1,"span",74),l(2),r(),i(3,"span",75),l(4),r()()}if(n&2){let e=a().$implicit;c(2),M(e.title),c(2),O("",e.learningItems.length," items")}}function ue(n,t){if(n&1&&_(0,Ce,5,2,"li",72),n&2){let e=t.$implicit,o=a(3);g(e.id!==o.lessonId()?0:-1)}}function fe(n,t){if(n&1&&(i(0,"div",28)(1,"h4"),l(2,"Other Lessons"),r(),i(3,"ul",71),k(4,ue,1,1,null,null,H),r()()),n&2){let e,o=a(2);c(4),T((e=o.course())==null?null:e.lessons)}}function xe(n,t){if(n&1){let e=b();i(0,"button",7),f("click",function(){C(e);let s=a(3);return s.goToNext(),u(s.closeCompletionModal())}),l(1," Continue to Next "),r()}}function he(n,t){if(n&1){let e=b();i(0,"div",76),f("click",function(){C(e);let s=a(2);return u(s.closeCompletionModal())}),i(1,"div",77),f("click",function(s){return C(e),u(s.stopPropagation())}),i(2,"div",78),m(),i(3,"svg",3),d(4,"path",79)(5,"polyline",80),r()(),v(),i(6,"h2"),l(7,"Congratulations!"),r(),i(8,"p"),l(9,"You've completed this lesson. Great job on your learning journey!"),r(),i(10,"div",81)(11,"div",82)(12,"span",83),l(13),r(),i(14,"span",84),l(15,"Course Progress"),r()()(),i(16,"div",85),_(17,xe,2,0,"button",86),i(18,"button",52),f("click",function(){C(e);let s=a(2);return u(s.backToCourse())}),l(19," Back to Course "),r(),i(20,"button",87),f("click",function(){C(e);let s=a(2);return u(s.continueToCourses())}),l(21," Browse More Courses "),r()()()()}if(n&2){let e=a(2);c(13),O("",e.courseProgress(),"%"),c(4),g(e.hasNext()?17:-1)}}function be(n,t){if(n&1){let e=b();i(0,"div",8)(1,"header",9)(2,"div",10)(3,"button",11),f("click",function(){C(e);let s=a();return u(s.backToCourse())}),m(),i(4,"svg",3),d(5,"polyline",12),r(),v(),i(6,"span"),l(7),r()()(),i(8,"div",13)(9,"div",14)(10,"span",15),l(11),r(),i(12,"div",16),d(13,"div",17),r()()(),i(14,"div",18)(15,"button",19),f("click",function(){C(e);let s=a();return u(s.toggleSidebar())}),m(),i(16,"svg",3),_(17,A,2,0)(18,B,2,0),r()()()(),v(),i(19,"div",20)(20,"main",21),_(21,se,25,11),r(),i(22,"aside",22)(23,"div",23)(24,"h3"),l(25),r(),i(26,"div",24)(27,"span"),l(28),r(),i(29,"div",16),d(30,"div",17),r()()(),i(31,"div",25)(32,"ul",26),k(33,pe,11,7,"li",27,H),r()(),_(35,fe,6,0,"div",28),r()()(),_(36,he,22,2,"div",29)}if(n&2){let e,o,s,p,L,x=a();V("sidebar-collapsed",x.sidebarCollapsed()),c(7),M((e=x.course())==null?null:e.title),c(4),O("Course Progress: ",x.courseProgress(),"%"),c(2),S("width",x.courseProgress(),"%"),c(4),g(x.sidebarCollapsed()?17:18),c(4),g((o=x.currentItem())?21:-1,o),c(4),M((s=x.lesson())==null?null:s.title),c(3),O("",x.lessonProgress(),"% complete"),c(2),S("width",x.lessonProgress(),"%"),c(3),T((p=x.lesson())==null?null:p.learningItems),c(2),g((L=x.course())!=null&&L.lessons&&x.course().lessons.length>1?35:-1),c(),g(x.showCompletionModal()?36:-1)}}var $=class n{route=y(N);router=y(R);courseService=y(F);progressService=y(j);sanitizer=y(G);courseId=h("");lessonId=h("");currentItemId=h("");course=h(null);lesson=h(null);currentItem=h(null);loading=h(!0);error=h(null);sidebarCollapsed=h(!1);showCompletionModal=h(!1);isEnrolled=w(()=>this.courseId()?this.courseService.isEnrolledInCourse(this.courseId()):!1);isCurrentItemCompleted=w(()=>{let t=this.currentItemId();return t?this.progressService.isItemCompleted(t):!1});lessonProgress=w(()=>{let t=this.courseId(),e=this.lessonId();return t&&e?this.progressService.getLessonCompletionPercentage(t,e):0});courseProgress=w(()=>{let t=this.courseId();return t?this.progressService.getCourseCompletionPercentage(t):0});hasPrevious=w(()=>{let t=this.courseId(),e=this.lessonId(),o=this.currentItemId();return!t||!e||!o?!1:this.courseService.getPreviousLearningItem(t,e,o)!==null});hasNext=w(()=>{let t=this.courseId(),e=this.lessonId(),o=this.currentItemId();return!t||!e||!o?!1:this.courseService.getNextLearningItem(t,e,o)!==null});ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("courseId"),o=t.get("lessonId");e&&o&&(this.courseId.set(e),this.lessonId.set(o),this.loadData())}),this.route.queryParamMap.subscribe(t=>{let e=t.get("item");e&&e!==this.currentItemId()&&(this.currentItemId.set(e),this.loadCurrentItem())})}ngOnDestroy(){this.saveProgress()}loadData(){this.loading.set(!0),this.error.set(null);let t=()=>{let e=this.courseService.getCourseById(this.courseId());if(e){this.course.set(e);let o=e.lessons.find(s=>s.id===this.lessonId());o?(this.lesson.set(o),!this.currentItemId()&&o.learningItems.length>0&&this.currentItemId.set(o.learningItems[0].id),this.loadCurrentItem(),this.loading.set(!1)):(this.error.set("Lesson not found"),this.loading.set(!1))}else this.courseService.loading()?setTimeout(t,100):(this.error.set("Course not found"),this.loading.set(!1))};t()}loadCurrentItem(){let t=this.lesson(),e=this.currentItemId();if(t&&e){let o=t.learningItems.find(s=>s.id===e);o&&(this.currentItem.set(o),this.progressService.markItemStarted(this.courseId(),this.lessonId(),e))}}saveProgress(){}getYouTubeEmbedUrl(t){let e="";t.includes("youtu.be/")?e=t.split("youtu.be/")[1]?.split("?")[0]||"":t.includes("youtube.com/watch")?e=new URLSearchParams(t.split("?")[1]).get("v")||"":t.includes("youtube.com/embed/")&&(e=t.split("youtube.com/embed/")[1]?.split("?")[0]||"");let o=`https://www.youtube.com/embed/${e}?rel=0&modestbranding=1`;return this.sanitizer.bypassSecurityTrustResourceUrl(o)}getVimeoEmbedUrl(t){let e=t.match(/vimeo\.com\/(\d+)/),s=`https://player.vimeo.com/video/${e?e[1]:""}`;return this.sanitizer.bypassSecurityTrustResourceUrl(s)}getVideoEmbedUrl(t){let e=t.videoUrl||"";return t.videoSource==="youtube"||e.includes("youtube.com")||e.includes("youtu.be")?this.getYouTubeEmbedUrl(e):t.videoSource==="vimeo"||e.includes("vimeo.com")?this.getVimeoEmbedUrl(e):this.sanitizer.bypassSecurityTrustResourceUrl(e)}getPdfViewerUrl(t){if(t.startsWith("http")){let e=`https://docs.google.com/viewer?url=${encodeURIComponent(t)}&embedded=true`;return this.sanitizer.bypassSecurityTrustResourceUrl(e)}return this.sanitizer.bypassSecurityTrustResourceUrl(t)}getExternalUrl(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}isYouTubeVideo(t){if(t.videoSource==="youtube")return!0;let e=t.videoUrl||"";return e.includes("youtube.com")||e.includes("youtu.be")}isVimeoVideo(t){return t.videoSource==="vimeo"?!0:(t.videoUrl||"").includes("vimeo.com")}isDirectVideo(t){return t.videoSource==="direct"||!this.isYouTubeVideo(t)&&!this.isVimeoVideo(t)}toggleSidebar(){this.sidebarCollapsed.set(!this.sidebarCollapsed())}selectItem(t){this.router.navigate([],{relativeTo:this.route,queryParams:{item:t.id},queryParamsHandling:"merge"})}markAsComplete(){let t=this.courseId(),e=this.lessonId(),o=this.currentItemId();t&&e&&o&&(this.progressService.markItemCompleted(t,e,o),this.hasNext()?this.goToNext():this.showCompletionModal.set(!0))}goToPrevious(){let t=this.courseService.getPreviousLearningItem(this.courseId(),this.lessonId(),this.currentItemId());t&&(t.lesson.id!==this.lessonId()?this.router.navigate(["/courses",this.courseId(),"lesson",t.lesson.id],{queryParams:{item:t.item.id}}):this.selectItem(t.item))}goToNext(){let t=this.courseService.getNextLearningItem(this.courseId(),this.lessonId(),this.currentItemId());t&&(t.lesson.id!==this.lessonId()?this.router.navigate(["/courses",this.courseId(),"lesson",t.lesson.id],{queryParams:{item:t.item.id}}):this.selectItem(t.item))}closeCompletionModal(){this.showCompletionModal.set(!1)}backToCourse(){this.router.navigate(["/courses",this.courseId()])}continueToCourses(){this.showCompletionModal.set(!1),this.router.navigate(["/courses"])}isItemCompleted(t){return this.progressService.isItemCompleted(t)}openInNewTab(t){window.open(t,"_blank")}navigateToLesson(t,e){this.router.navigate(["/courses",this.courseId(),"lesson",t],{queryParams:{item:e}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=U({type:n,selectors:[["app-lesson-viewer"]],decls:3,vars:1,consts:[[1,"loading-container"],[1,"error-container"],[1,"loading-spinner"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"btn","btn-primary",3,"click"],[1,"lesson-viewer"],[1,"viewer-header"],[1,"header-left"],[1,"back-btn",3,"click"],["points","15 18 9 12 15 6"],[1,"header-center"],[1,"progress-info"],[1,"progress-text"],[1,"progress-bar"],[1,"progress-fill"],[1,"header-right"],[1,"sidebar-toggle",3,"click"],[1,"viewer-body"],[1,"content-area"],[1,"lesson-sidebar"],[1,"sidebar-header"],[1,"lesson-progress"],[1,"sidebar-content"],[1,"items-list"],[1,"item",3,"active","completed"],[1,"other-lessons"],[1,"modal-overlay"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["x1","9","y1","3","x2","9","y2","21"],["x1","15","y1","3","x2","15","y2","21"],[1,"content-header"],[1,"item-type-badge"],[1,"item-description"],[1,"content-viewer"],[1,"pdf-container"],[1,"url-container"],[1,"content-actions"],[1,"nav-buttons"],[1,"btn","btn-secondary",3,"click","disabled"],["points","9 18 15 12 9 6"],[1,"btn","btn-complete",3,"click","disabled"],[1,"video-container"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"],["controls","","preload","metadata",3,"src"],[1,"video-meta"],[1,"duration"],["points","12 6 12 12 16 14"],["frameborder","0",3,"src"],[1,"pdf-fallback"],[1,"btn","btn-secondary",3,"click"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","y1","14","x2","21","y2","3"],[1,"embed-wrapper"],["frameborder","0","sandbox","allow-same-origin allow-scripts allow-popups allow-forms",3,"src"],[1,"url-actions"],[1,"url-hint"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],["points","20 6 9 17 4 12"],[1,"item",3,"click"],[1,"item-number"],[1,"item-info"],[1,"item-title"],[1,"item-meta"],["points","5 3 19 12 5 21 5 3"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],[1,"lessons-nav"],[1,"lesson-nav-item"],[1,"lesson-nav-item",3,"click"],[1,"lesson-title"],[1,"lesson-count"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-icon"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"completion-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"modal-actions"],[1,"btn","btn-primary"],[1,"btn","btn-link",3,"click"]],template:function(e,o){e&1&&_(0,Y,4,0,"div",0)(1,q,9,1,"div",1)(2,be,37,14),e&2&&g(o.loading()?0:o.error()?1:2)},dependencies:[D],styles:['.lesson-viewer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:#f8fafc}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;text-align:center}.loading-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:#94a3b8;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1e293b;margin-bottom:1rem}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:3px solid #e2e8f0;border-top-color:#6366f1;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.viewer-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1.5rem;background:#fff;border-bottom:1px solid #e2e8f0;flex-shrink:0}.viewer-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:transparent;border:none;color:#64748b;font-size:.875rem;font-weight:500;cursor:pointer;border-radius:8px;transition:all .2s}.viewer-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.viewer-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.viewer-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]{flex:1;max-width:400px;margin:0 2rem}.viewer-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-bottom:.375rem}.viewer-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:6px;background:#e2e8f0;border-radius:999px;overflow:hidden}.viewer-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#10b981;border-radius:999px;transition:width .3s ease}.viewer-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#f1f5f9;border:none;border-radius:8px;cursor:pointer;transition:all .2s}.viewer-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#64748b}.viewer-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]:hover{background:#e2e8f0}.viewer-body[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.content-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto;padding:2rem}.content-area[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.content-area[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .item-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.75rem}.content-area[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .item-type-badge[data-type=video][_ngcontent-%COMP%]{background:#fce7f3;color:#be185d}.content-area[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .item-type-badge[data-type=pdf][_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.content-area[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .item-type-badge[data-type=url][_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.content-area[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.content-area[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{color:#64748b;line-height:1.6;margin:0}.content-viewer[_ngcontent-%COMP%]{flex:1;min-height:0;margin-bottom:1.5rem}.video-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1000px;background:#000;border-radius:12px;overflow:hidden}.video-container[_ngcontent-%COMP%]:before{content:"";display:block;padding-bottom:56.25%}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], .video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.video-meta[_ngcontent-%COMP%]{margin-top:1rem}.video-meta[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;font-size:.875rem;color:#64748b}.video-meta[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.pdf-container[_ngcontent-%COMP%]{height:100%;min-height:600px;display:flex;flex-direction:column}.pdf-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{flex:1;width:100%;min-height:500px;border-radius:12px;background:#fff;border:1px solid #e2e8f0}.pdf-container[_ngcontent-%COMP%]   .pdf-fallback[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1rem;padding:1rem;background:#f8fafc;border-radius:8px}.pdf-container[_ngcontent-%COMP%]   .pdf-fallback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#64748b}.url-container[_ngcontent-%COMP%]{height:100%;min-height:600px;display:flex;flex-direction:column}.url-container[_ngcontent-%COMP%]   .embed-wrapper[_ngcontent-%COMP%]{flex:1;min-height:500px;border-radius:12px;overflow:hidden;background:#fff;border:1px solid #e2e8f0}.url-container[_ngcontent-%COMP%]   .embed-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;min-height:500px}.url-container[_ngcontent-%COMP%]   .url-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:1rem;padding:1rem;background:#fef3c7;border-radius:8px}.url-container[_ngcontent-%COMP%]   .url-actions[_ngcontent-%COMP%]   .url-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;font-size:.875rem;color:#92400e}.url-container[_ngcontent-%COMP%]   .url-actions[_ngcontent-%COMP%]   .url-hint[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.content-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;padding-top:1.5rem;border-top:1px solid #e2e8f0}.content-actions[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.25rem;border:none;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease}.btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn.btn-primary[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#4f46e5}.btn.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#1e293b}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e2e8f0}.btn.btn-complete[_ngcontent-%COMP%]{background:#10b981;color:#fff}.btn.btn-complete[_ngcontent-%COMP%]:hover:not(:disabled){background:#059669}.btn.btn-complete.completed[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.btn.btn-link[_ngcontent-%COMP%]{background:transparent;color:#6366f1;padding:.5rem}.btn.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.lesson-sidebar[_ngcontent-%COMP%]{width:360px;background:#fff;border-left:1px solid #e2e8f0;display:flex;flex-direction:column;flex-shrink:0;transition:width .3s ease,transform .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .lesson-sidebar[_ngcontent-%COMP%]{width:0;transform:translate(100%);border-left:none}.sidebar-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid #e2e8f0}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin:0 0 .75rem}.sidebar-header[_ngcontent-%COMP%]   .lesson-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#64748b;margin-bottom:.375rem}.sidebar-header[_ngcontent-%COMP%]   .lesson-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:4px;background:#e2e8f0;border-radius:999px;overflow:hidden}.sidebar-header[_ngcontent-%COMP%]   .lesson-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#6366f1;border-radius:999px;transition:width .3s ease}.sidebar-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:.5rem}.items-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.875rem;border-radius:8px;cursor:pointer;transition:all .2s}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background:#f8fafc}.items-list[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{background:#eef2ff}.items-list[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .item-number[_ngcontent-%COMP%]{background:#6366f1;color:#fff}.items-list[_ngcontent-%COMP%]   .item.completed[_ngcontent-%COMP%]   .item-number[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.items-list[_ngcontent-%COMP%]   .item.completed[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#64748b}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-number[_ngcontent-%COMP%]{width:28px;height:28px;background:#f1f5f9;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600;color:#64748b;flex-shrink:0}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-number[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{flex:1;min-width:0}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#1e293b;margin-bottom:.25rem}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;font-size:.75rem;color:#94a3b8}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .item-meta[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.other-lessons[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid #e2e8f0}.other-lessons[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8;margin:0 0 .75rem}.other-lessons[_ngcontent-%COMP%]   .lessons-nav[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.other-lessons[_ngcontent-%COMP%]   .lessons-nav[_ngcontent-%COMP%]   .lesson-nav-item[_ngcontent-%COMP%]{padding:.75rem;border-radius:8px;cursor:pointer;transition:background .2s}.other-lessons[_ngcontent-%COMP%]   .lessons-nav[_ngcontent-%COMP%]   .lesson-nav-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.other-lessons[_ngcontent-%COMP%]   .lessons-nav[_ngcontent-%COMP%]   .lesson-nav-item[_ngcontent-%COMP%]   .lesson-title[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#1e293b;margin-bottom:.125rem}.other-lessons[_ngcontent-%COMP%]   .lessons-nav[_ngcontent-%COMP%]   .lesson-nav-item[_ngcontent-%COMP%]   .lesson-count[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;padding:1rem;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem;max-width:420px;width:100%;text-align:center;animation:_ngcontent-%COMP%_slideUp .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-icon[_ngcontent-%COMP%]{width:80px;height:80px;background:#dcfce7;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem}.modal-content[_ngcontent-%COMP%]   .modal-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;height:40px;color:#166534}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 1.5rem;line-height:1.6}.modal-content[_ngcontent-%COMP%]   .completion-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-bottom:2rem}.modal-content[_ngcontent-%COMP%]   .completion-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center}.modal-content[_ngcontent-%COMP%]   .completion-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:#6366f1}.modal-content[_ngcontent-%COMP%]   .completion-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1024px){.lesson-sidebar[_ngcontent-%COMP%]{position:fixed;right:0;top:0;bottom:0;z-index:100;box-shadow:-4px 0 20px #0000001a}.sidebar-collapsed[_ngcontent-%COMP%]   .lesson-sidebar[_ngcontent-%COMP%]{transform:translate(100%)}.header-center[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.content-area[_ngcontent-%COMP%]{padding:1rem}.content-actions[_ngcontent-%COMP%]{flex-direction:column}.content-actions[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]{width:100%}.content-actions[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.content-actions[_ngcontent-%COMP%]   .btn-complete[_ngcontent-%COMP%]{width:100%}.url-actions[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}}']})};export{$ as LessonViewerComponent};
