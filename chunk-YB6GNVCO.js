import{a as Z}from"./chunk-CT67W7SA.js";import{a as X}from"./chunk-5WTPKT27.js";import{a as K}from"./chunk-57NZOXBA.js";import{a as J}from"./chunk-CKQXZY5F.js";import{$ as M,A as a,D as y,H as _,K as k,L as A,N as P,O as m,R as F,S as L,T as n,U as i,V as l,W as V,X as x,Y as g,Z as s,_ as f,aa as h,fa as C,ha as D,n as w,p as O,q as v,qa as W,r as u,s as p,u as j,w as $,x as U}from"./chunk-PYF3QQPI.js";function re(r,o){if(r&1&&(n(0,"div",25)(1,"div",12),u(),n(2,"svg",13),l(3,"polygon",26),i()(),p(),n(4,"div",16)(5,"span",17),s(6),i(),n(7,"span",18),s(8,"Avg Quiz Score"),i()()()),r&2){let e=g();a(6),M("",e.averageQuizScore,"%")}}var B=class r{overallCompletion=0;totalCourses=0;inProgressCount=0;completedCount=0;quizzesPassed=0;quizzesFailed=0;averageQuizScore=0;getCompletionClass(){return this.overallCompletion>=80?"excellent":this.overallCompletion>=50?"good":this.overallCompletion>=25?"fair":"starting"}getCircumference(){return 2*Math.PI*54}getStrokeDashoffset(){let o=this.getCircumference();return o-this.overallCompletion/100*o}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=y({type:r,selectors:[["app-dashboard-stats"]],inputs:{overallCompletion:"overallCompletion",totalCourses:"totalCourses",inProgressCount:"inProgressCount",completedCount:"completedCount",quizzesPassed:"quizzesPassed",quizzesFailed:"quizzesFailed",averageQuizScore:"averageQuizScore"},decls:48,vars:14,consts:[[1,"stats-container"],[1,"overall-completion-card"],[1,"completion-circle"],["viewBox","0 0 120 120"],["cx","60","cy","60","r","54",1,"circle-bg"],["cx","60","cy","60","r","54",1,"circle-progress"],[1,"completion-text"],[1,"percentage"],[1,"label"],[1,"completion-info"],[1,"stats-grid"],[1,"stat-card","in-progress"],[1,"stat-icon"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","completed"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"stat-card","quizzes"],["d","M9 11l3 3L22 4"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"],[1,"stat-card","average"],["points","12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),u(),n(3,"svg",3),l(4,"circle",4)(5,"circle",5),i(),p(),n(6,"div",6)(7,"span",7),s(8),i(),n(9,"span",8),s(10,"Complete"),i()()(),n(11,"div",9)(12,"h2"),s(13,"Overall Progress"),i(),n(14,"p"),s(15),i()()(),n(16,"div",10)(17,"div",11)(18,"div",12),u(),n(19,"svg",13),l(20,"circle",14)(21,"polyline",15),i()(),p(),n(22,"div",16)(23,"span",17),s(24),i(),n(25,"span",18),s(26,"In Progress"),i()()(),n(27,"div",19)(28,"div",12),u(),n(29,"svg",13),l(30,"path",20)(31,"polyline",21),i()(),p(),n(32,"div",16)(33,"span",17),s(34),i(),n(35,"span",18),s(36,"Completed"),i()()(),n(37,"div",22)(38,"div",12),u(),n(39,"svg",13),l(40,"path",23)(41,"path",24),i()(),p(),n(42,"div",16)(43,"span",17),s(44),i(),n(45,"span",18),s(46,"Quizzes Passed"),i()()(),_(47,re,9,1,"div",25),i()()),e&2&&(a(2),P(t.getCompletionClass()),a(3),A("stroke-dasharray",t.getCircumference())("stroke-dashoffset",t.getStrokeDashoffset()),a(3),M("",t.overallCompletion,"%"),a(7),h("",t.completedCount," of ",t.totalCourses," courses completed"),a(9),f(t.inProgressCount),a(10),f(t.completedCount),a(10),h("",t.quizzesPassed,"/",t.quizzesPassed+t.quizzesFailed,""),a(3),m(t.averageQuizScore>0?47:-1))},dependencies:[D],styles:[".stats-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.overall-completion-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem;border-radius:16px;color:#fff;display:flex;align-items:center;gap:2rem;box-shadow:0 8px 24px #667eea4d}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;flex-shrink:0}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg);width:100%;height:100%}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#fff3;stroke-width:8}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .circle-progress[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-width:8;stroke-linecap:round;transition:stroke-dashoffset 1s ease}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]   .completion-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]   .completion-text[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;line-height:1;margin-bottom:.25rem}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]   .completion-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.9;text-transform:uppercase;letter-spacing:.5px}.overall-completion-card[_ngcontent-%COMP%]   .completion-info[_ngcontent-%COMP%]{flex:1}.overall-completion-card[_ngcontent-%COMP%]   .completion-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0 0 .5rem}.overall-completion-card[_ngcontent-%COMP%]   .completion-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.9}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;display:flex;align-items:center;gap:1rem;box-shadow:0 2px 8px #0000001a;transition:transform .2s,box-shadow .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a202c;line-height:1;margin-bottom:.25rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#718096;font-weight:500}.stat-card.in-progress[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.stat-card.completed[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.stat-card.quizzes[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-card.average[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbf24,#f59e0b)}@media (max-width: 768px){.overall-completion-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]{width:120px;height:120px}.overall-completion-card[_ngcontent-%COMP%]   .completion-circle[_ngcontent-%COMP%]   .completion-text[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:1.75rem}.overall-completion-card[_ngcontent-%COMP%]   .completion-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"],changeDetection:0})};function ie(r,o){r&1&&(u(),l(0,"path",23)(1,"polyline",24))}function ae(r,o){r&1&&(u(),l(0,"circle",14)(1,"line",25)(2,"line",26))}function se(r,o){r&1&&(u(),l(0,"path",27)(1,"path",28))}function ce(r,o){r&1&&(u(),l(0,"rect",29)(1,"path",30))}function le(r,o){r&1&&(u(),l(0,"polygon",22))}function de(r,o){r&1&&(u(),l(0,"polygon",22))}function ue(r,o){r&1&&(u(),l(0,"path",27)(1,"path",28))}function ge(r,o){r&1&&(u(),l(0,"path",31)(1,"circle",32))}var G=class r{data;actionClick=new j;courseClick=new j;onActionClick(o){o.stopPropagation(),this.actionClick.emit(this.data)}onCourseClick(){this.courseClick.emit(this.data.course.id)}getStatusClass(){return this.data.status}getQuizStatusClass(){switch(this.data.quizStatus){case"passed":return"quiz-passed";case"failed":return"quiz-failed";case"available":return"quiz-available";default:return"quiz-locked"}}getQuizStatusText(){switch(this.data.quizStatus){case"passed":return`Quiz Passed - ${this.data.quizScore}%`;case"failed":return`Quiz Failed - ${this.data.quizScore}%`;case"available":return"Quiz Available";default:return"Quiz Locked"}}getStatusBadgeText(){switch(this.data.status){case"completed":return"Completed";case"in-progress":return"In Progress";default:return"Not Started"}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=y({type:r,selectors:[["app-dashboard-course-card"]],inputs:{data:"data"},outputs:{actionClick:"actionClick",courseClick:"courseClick"},decls:48,vars:29,consts:[[1,"course-card",3,"click"],[1,"course-thumbnail"],[3,"src","alt"],[1,"status-badge"],[1,"course-content"],[1,"course-header"],[1,"difficulty-badge"],[1,"course-description"],[1,"progress-section"],[1,"progress-stats"],[1,"stat"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M4 19.5A2.5 2.5 0 0 1 6.5 17H20"],["d","M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-percentage"],[1,"quiz-status"],[1,"action-button",3,"click"],["points","5 3 19 12 5 21 5 3"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],["d","M9 11l3 3L22 4"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"]],template:function(e,t){e&1&&(n(0,"div",0),x("click",function(){return t.onCourseClick()}),n(1,"div",1),l(2,"img",2),n(3,"span",3),s(4),i()(),n(5,"div",4)(6,"div",5)(7,"h3"),s(8),i(),n(9,"span",6),s(10),i()(),n(11,"p",7),s(12),i(),n(13,"div",8)(14,"div",9)(15,"div",10),u(),n(16,"svg",11),l(17,"path",12)(18,"path",13),i(),p(),n(19,"span"),s(20),i()(),n(21,"div",10),u(),n(22,"svg",11),l(23,"circle",14)(24,"polyline",15),i(),p(),n(25,"span"),s(26),i()()(),n(27,"div",16)(28,"div",17),l(29,"div",18),i(),n(30,"span",19),s(31),i()()(),n(32,"div",20),u(),n(33,"svg",11),_(34,ie,2,0)(35,ae,3,0)(36,se,2,0)(37,ce,2,0),i(),p(),n(38,"span"),s(39),i()(),n(40,"button",21),x("click",function(d){return t.onActionClick(d)}),u(),n(41,"svg",11),_(42,le,1,0,":svg:polygon",22)(43,de,1,0,":svg:polygon",22)(44,ue,2,0)(45,ge,2,0),i(),p(),n(46,"span"),s(47),i()()()()),e&2&&(P(t.getStatusClass()),a(2),k("src",t.data.course.thumbnail,U)("alt",t.data.course.title),a(),P(t.getStatusClass()),a(),M(" ",t.getStatusBadgeText()," "),a(4),f(t.data.course.title),a(),P(t.data.course.difficulty.toLowerCase()),a(),M(" ",t.data.course.difficulty," "),a(2),f(t.data.course.description),a(8),h("",t.data.lessonsCompleted,"/",t.data.totalLessons," lessons"),a(6),h("",t.data.itemsCompleted,"/",t.data.totalItems," items"),a(3),P(t.getStatusClass()),A("width",t.data.percentComplete,"%"),a(2),M("",t.data.percentComplete,"%"),a(),P(t.getQuizStatusClass()),a(2),m(t.data.quizStatus==="passed"?34:t.data.quizStatus==="failed"?35:t.data.quizStatus==="available"?36:37),a(5),f(t.getQuizStatusText()),a(),P(t.data.actionButton.action),a(2),m(t.data.actionButton.action==="start"?42:t.data.actionButton.action==="continue"?43:t.data.actionButton.action==="take-quiz"||t.data.actionButton.action==="retake-quiz"?44:45),a(5),f(t.data.actionButton.text))},dependencies:[D],styles:[".course-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:all .3s;cursor:pointer;display:flex;flex-direction:column}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.course-card.completed[_ngcontent-%COMP%]{border:2px solid #10b981}.course-card.in-progress[_ngcontent-%COMP%]{border:2px solid #f59e0b}.course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{position:relative;width:100%;height:180px;overflow:hidden;background:#edf2f7}.course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;padding:.375rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;text-transform:uppercase;backdrop-filter:blur(8px)}.course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]{background:#10b981e6;color:#fff}.course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge.in-progress[_ngcontent-%COMP%]{background:#f59e0be6;color:#fff}.course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge.not-started[_ngcontent-%COMP%]{background:#94a3b8e6;color:#fff}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem;flex:1}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:#1a202c;line-height:1.3;flex:1}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .difficulty-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;flex-shrink:0}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .difficulty-badge.beginner[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .difficulty-badge.intermediate[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .difficulty-badge.advanced[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{margin:0;color:#718096;font-size:.875rem;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding:1rem;background:#f7fafc;border-radius:8px}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#4a5568}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;color:#667eea}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{flex:1;height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .5s ease;border-radius:4px}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill.completed[_ngcontent-%COMP%]{background:linear-gradient(90deg,#10b981,#059669)}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill.in-progress[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#d97706)}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill.not-started[_ngcontent-%COMP%]{background:linear-gradient(90deg,#94a3b8,#64748b)}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1a202c;min-width:45px;text-align:right}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .quiz-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;border-radius:8px;font-size:.875rem;font-weight:500}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .quiz-status[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .quiz-status.quiz-passed[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .quiz-status.quiz-failed[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .quiz-status.quiz-available[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .quiz-status.quiz-locked[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.875rem 1.5rem;border:none;border-radius:8px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s;margin-top:auto}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.start[_ngcontent-%COMP%], .course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.continue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.start[_ngcontent-%COMP%]:hover, .course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.continue[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a67d8,#6b46c1);transform:translateY(-1px);box-shadow:0 4px 12px #667eea66}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.take-quiz[_ngcontent-%COMP%], .course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.retake-quiz[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.take-quiz[_ngcontent-%COMP%]:hover, .course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.retake-quiz[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#d97706,#b45309);transform:translateY(-1px);box-shadow:0 4px 12px #f59e0b66}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.view-results[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button.view-results[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-1px);box-shadow:0 4px 12px #10b98166}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}"],changeDetection:0})};var R=(r,o)=>o.course.id;function pe(r,o){r&1&&(n(0,"div",1),l(1,"div",2),n(2,"p"),s(3,"Loading your progress..."),i()())}function me(r,o){if(r&1&&s(0),r&2){let e=g(2);M(" Welcome back, ",e.userName(),"! ")}}function Ce(r,o){r&1&&s(0," Your Learning Dashboard ")}function _e(r,o){if(r&1&&(n(0,"p",6),s(1),i()),r&2){let e=g(2);a(),f(e.userRole())}}function fe(r,o){if(r&1){let e=V();n(0,"app-dashboard-course-card",14),x("actionClick",function(c){O(e);let d=g(3);return v(d.handleCourseAction(c))})("courseClick",function(c){O(e);let d=g(3);return v(d.viewCourseDetails(c))}),i()}if(r&2){let e=o.$implicit;k("data",e)}}function he(r,o){if(r&1&&(n(0,"div",8)(1,"div",10)(2,"h2"),s(3,"Continue Learning"),i(),n(4,"span",11),s(5),i()(),n(6,"div",12),F(7,fe,1,1,"app-dashboard-course-card",13,R),i()()),r&2){let e=g(2);a(5),h("",e.inProgressCourses().length," course",e.inProgressCourses().length>1?"s":"",""),a(2),L(e.inProgressCourses())}}function Pe(r,o){if(r&1){let e=V();n(0,"app-dashboard-course-card",14),x("actionClick",function(c){O(e);let d=g(3);return v(d.handleCourseAction(c))})("courseClick",function(c){O(e);let d=g(3);return v(d.viewCourseDetails(c))}),i()}if(r&2){let e=o.$implicit;k("data",e)}}function Me(r,o){if(r&1&&(n(0,"div",8)(1,"div",10)(2,"h2"),s(3,"Start Learning"),i(),n(4,"span",11),s(5),i()(),n(6,"div",12),F(7,Pe,1,1,"app-dashboard-course-card",13,R),i()()),r&2){let e=g(2);a(5),h("",e.notStartedCourses().length," course",e.notStartedCourses().length>1?"s":"",""),a(2),L(e.notStartedCourses())}}function be(r,o){if(r&1){let e=V();n(0,"app-dashboard-course-card",14),x("actionClick",function(c){O(e);let d=g(3);return v(d.handleCourseAction(c))})("courseClick",function(c){O(e);let d=g(3);return v(d.viewCourseDetails(c))}),i()}if(r&2){let e=o.$implicit;k("data",e)}}function Oe(r,o){if(r&1&&(n(0,"div",8)(1,"div",10)(2,"h2"),s(3,"Completed"),i(),n(4,"span",11),s(5),i()(),n(6,"div",12),F(7,be,1,1,"app-dashboard-course-card",13,R),i()()),r&2){let e=g(2);a(5),h("",e.completedCourses().length," course",e.completedCourses().length>1?"s":"",""),a(2),L(e.completedCourses())}}function ve(r,o){if(r&1){let e=V();n(0,"div",9),u(),n(1,"svg",15),l(2,"path",16)(3,"path",17),i(),p(),n(4,"h3"),s(5,"No courses found"),i(),n(6,"p"),s(7,"Looks like you haven't enrolled in any courses yet."),i(),n(8,"button",18),x("click",function(){O(e);let c=g(2);return v(c.router.navigate(["/courses"]))}),s(9," Browse Courses "),i()()}}function xe(r,o){if(r&1&&(n(0,"div",3)(1,"div",4)(2,"h1"),_(3,me,1,1)(4,Ce,1,0),i(),n(5,"p",5),s(6,"Track your progress and continue your learning journey"),i(),_(7,_e,2,1,"p",6),i()(),l(8,"app-dashboard-stats",7),_(9,he,9,2,"div",8)(10,Me,9,2,"div",8)(11,Oe,9,2,"div",8)(12,ve,10,0,"div",9)),r&2){let e=g();a(3),m(e.userName()?3:4),a(4),m(e.userRole()?7:-1),a(),k("overallCompletion",e.overallCompletion())("totalCourses",e.userCourses().length)("inProgressCount",e.inProgressCourses().length)("completedCount",e.completedCourses().length)("quizzesPassed",e.totalQuizzesPassed())("quizzesFailed",e.totalQuizzesFailed())("averageQuizScore",e.averageQuizScore()),a(),m(e.inProgressCourses().length>0?9:-1),a(),m(e.notStartedCourses().length>0?10:-1),a(),m(e.completedCourses().length>0?11:-1),a(),m(e.userCourses().length===0?12:-1)}}var ne=class r{router=w(W);courseService=w(K);progressService=w(X);quizService=w(Z);storageService=w(J);loading=$(!0);enrollmentData=C(()=>this.storageService.enrollmentData());userRole=C(()=>this.enrollmentData()?.role);userName=C(()=>this.enrollmentData()?.name);userCourses=C(()=>{let o=this.userRole();return o?this.courseService.courses().filter(e=>e.roles.includes(o)):[]});overallCompletion=C(()=>{let o=this.userCourses();if(o.length===0)return 0;let e=o.filter(t=>this.progressService.getCourseCompletionPercentage(t.id)===100).length;return Math.round(e/o.length*100)});totalQuizzesPassed=C(()=>this.userCourses().filter(e=>{let t=this.quizService.getQuizByCourseId(e.id);return t&&this.quizService.hasPassedQuiz(t.id)}).length);totalQuizzesFailed=C(()=>this.userCourses().filter(e=>{let t=this.quizService.getQuizByCourseId(e.id);return t?this.quizService.getAllAttempts(t.id).length>0&&!this.quizService.hasPassedQuiz(t.id):!1}).length);averageQuizScore=C(()=>{let o=this.userCourses(),e=[];return o.forEach(t=>{let c=this.quizService.getQuizByCourseId(t.id);if(c){let d=this.quizService.getAllAttempts(c.id);if(d.length>0){let I=Math.max(...d.map(H=>H.score));e.push(I)}}}),e.length===0?0:Math.round(e.reduce((t,c)=>t+c,0)/e.length)});courseProgressData=C(()=>this.userCourses().map(e=>{let t=e.lessons?.length||0,c=e.lessons?.reduce((E,b)=>E+(b.learningItems?.length||0),0)||0,d=this.progressService.getCourseProgress(e.id),I=d?.completedItems||[],H=e.lessons?.filter(E=>{let b=E.learningItems?.map(T=>T.id)||[];return b.length>0&&b.every(T=>I.includes(T))}).length||0,oe=I.length,Q=this.progressService.getCourseCompletionPercentage(e.id),q="not-started";Q===100?q="completed":Q>0&&(q="in-progress");let N=this.quizService.getQuizByCourseId(e.id),S="locked",Y;if(N&&Q===100){let E=this.quizService.hasPassedQuiz(N.id),b=this.quizService.getAllAttempts(N.id);E?S="passed":b.length>0?S="failed":S="available",b.length>0&&(Y=Math.max(...b.map(T=>T.score)))}let z;return q==="not-started"?z={text:"Start Course",action:"start"}:q==="in-progress"?z={text:"Continue Learning",action:"continue"}:S==="available"?z={text:"Take Quiz",action:"take-quiz"}:S==="failed"?z={text:"Retake Quiz",action:"retake-quiz"}:S==="passed"?z={text:"View Results",action:"view-results"}:z={text:"Continue",action:"continue"},{course:e,lessonsCompleted:H,totalLessons:t,itemsCompleted:oe,totalItems:c,percentComplete:Q,status:q,quizStatus:S,quizScore:Y,lastViewedAt:d?.lastViewedAt,actionButton:z}}).sort((e,t)=>{let c={"in-progress":0,"not-started":1,completed:2},d=c[e.status]-c[t.status];return d!==0?d:e.lastViewedAt&&t.lastViewedAt?new Date(t.lastViewedAt).getTime()-new Date(e.lastViewedAt).getTime():e.lastViewedAt?-1:t.lastViewedAt?1:0}));inProgressCourses=C(()=>this.courseProgressData().filter(o=>o.status==="in-progress"));completedCourses=C(()=>this.courseProgressData().filter(o=>o.status==="completed"));notStartedCourses=C(()=>this.courseProgressData().filter(o=>o.status==="not-started"));ngOnInit(){this.waitForData().then(()=>{this.loading.set(!1)})}waitForData(){return new Promise(o=>{let e=()=>{!this.courseService.loading()&&!this.quizService.loading()?o():setTimeout(e,100)};e()})}handleCourseAction(o){switch(o.actionButton.action){case"start":this.router.navigate(["/courses",o.course.id]);break;case"continue":let e=this.progressService.getResumePoint(o.course.id);e?this.router.navigate(["/courses",o.course.id,"lesson",e.lessonId],{queryParams:{item:e.itemId}}):this.router.navigate(["/courses",o.course.id]);break;case"take-quiz":case"retake-quiz":this.router.navigate(["/courses",o.course.id,"quiz"]);break;case"view-results":this.router.navigate(["/courses",o.course.id,"quiz","result"]);break}}viewCourseDetails(o){this.router.navigate(["/courses",o])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=y({type:r,selectors:[["app-dashboard"]],decls:3,vars:1,consts:[[1,"dashboard-container"],[1,"loading-state"],[1,"spinner"],[1,"dashboard-header"],[1,"header-text"],[1,"subtitle"],[1,"role-badge"],[3,"overallCompletion","totalCourses","inProgressCount","completedCount","quizzesPassed","quizzesFailed","averageQuizScore"],[1,"courses-section"],[1,"empty-state"],[1,"section-header"],[1,"count"],[1,"courses-grid"],[3,"data"],[3,"actionClick","courseClick","data"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M4 19.5A2.5 2.5 0 0 1 6.5 17H20"],["d","M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"],[1,"btn-primary",3,"click"]],template:function(e,t){e&1&&(n(0,"div",0),_(1,pe,4,0,"div",1)(2,xe,13,13),i()),e&2&&(a(),m(t.loading()?1:2))},dependencies:[D,B,G],styles:[".dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background:#f7fafc;padding:2rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:50vh;color:#718096;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.dashboard-header[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 2rem}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin:0 0 .5rem}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#718096;font-size:1.125rem;margin:0 0 .75rem}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:20px;font-size:.875rem;font-weight:600;margin:0}.courses-section[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto 3rem}.courses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.courses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a202c;margin:0}.courses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#edf2f7;color:#4a5568;border-radius:20px;font-size:.875rem;font-weight:600}.courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.empty-state[_ngcontent-%COMP%]{max-width:400px;margin:3rem auto;text-align:center;padding:3rem 2rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:64px;height:64px;color:#cbd5e0;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d3748;margin:0 0 .5rem;font-size:1.25rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;margin:0 0 1.5rem}.empty-state[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.empty-state[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a67d8,#6b46c1);transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}@media (max-width: 1200px){.courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.courses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.courses-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{ne as DashboardComponent};
