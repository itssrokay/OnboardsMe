<div class="course-card" [class]="getStatusClass()" (click)="onCourseClick()">
  <!-- Course Thumbnail -->
  <div class="course-thumbnail">
    <img [src]="data.course.thumbnail" [alt]="data.course.title" />
    <span class="status-badge" [class]="getStatusClass()">
      {{ getStatusBadgeText() }}
    </span>
  </div>

  <!-- Course Content -->
  <div class="course-content">
    <div class="course-header">
      <h3>{{ data.course.title }}</h3>
      <span class="difficulty-badge" [class]="data.course.difficulty.toLowerCase()">
        {{ data.course.difficulty }}
      </span>
    </div>

    <p class="course-description">{{ data.course.description }}</p>

    <!-- Progress Info -->
    <div class="progress-section">
      <div class="progress-stats">
        <div class="stat">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
          </svg>
          <span>{{ data.lessonsCompleted }}/{{ data.totalLessons }} lessons</span>
        </div>
        <div class="stat">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <polyline points="12 6 12 12 16 14"/>
          </svg>
          <span>{{ data.itemsCompleted }}/{{ data.totalItems }} items</span>
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="progress-bar-container">
        <div class="progress-bar">
          <div 
            class="progress-fill" 
            [style.width.%]="data.percentComplete"
            [class]="getStatusClass()"
          ></div>
        </div>
        <span class="progress-percentage">{{ data.percentComplete }}%</span>
      </div>
    </div>

    <!-- Quiz Status -->
    <div class="quiz-status" [class]="getQuizStatusClass()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        @if (data.quizStatus === 'passed') {
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
          <polyline points="22 4 12 14.01 9 11.01"/>
        } @else if (data.quizStatus === 'failed') {
          <circle cx="12" cy="12" r="10"/>
          <line x1="15" y1="9" x2="9" y2="15"/>
          <line x1="9" y1="9" x2="15" y2="15"/>
        } @else if (data.quizStatus === 'available') {
          <path d="M9 11l3 3L22 4"/>
          <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
        } @else {
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        }
      </svg>
      <span>{{ getQuizStatusText() }}</span>
    </div>

    <!-- Action Button -->
    <button class="action-button" [class]="data.actionButton.action" (click)="onActionClick($event)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        @if (data.actionButton.action === 'start') {
          <polygon points="5 3 19 12 5 21 5 3"/>
        } @else if (data.actionButton.action === 'continue') {
          <polygon points="5 3 19 12 5 21 5 3"/>
        } @else if (data.actionButton.action === 'take-quiz' || data.actionButton.action === 'retake-quiz') {
          <path d="M9 11l3 3L22 4"/>
          <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
        } @else {
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
          <circle cx="12" cy="12" r="3"/>
        }
      </svg>
      <span>{{ data.actionButton.text }}</span>
    </button>
  </div>
</div>
